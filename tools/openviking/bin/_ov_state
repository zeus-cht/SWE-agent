#!/usr/bin/env python3

import json
import os
from pathlib import Path

from registry import registry  # type: ignore


def main() -> None:
    repo_root_uri = registry.get("OPENVIKING_REPO_ROOT_URI")
    data_dir = registry.get("OPENVIKING_DATA_DIR", os.environ.get("OPENVIKING_DATA_DIR", "./ov_data"))

    state = {
        "openviking_repo_root_uri": repo_root_uri or "",
        "openviking_data_dir": str(Path(data_dir).resolve()),
    }

    print(json.dumps(state))


if __name__ == "__main__":
    main()

